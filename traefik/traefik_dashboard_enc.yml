# Create an IngressRoute for the dashboard
ingressRoute:
    dashboard:
        enabled: true
        # Custom match rule with host domain
        matchRule: Host(`traefik.luigi.ovh`)
        entryPoints:
            - web
            - websecure
        # Add custom middlewares : authentication and redirection
        middlewares:
            - name: dashboard-auth
        tls:
            secretName: luigi.ovh
# Create the custom middlewares used by the IngressRoute dashboard (can also be created in another way).
# /!\ Yes, you need to replace "changeme" password with a better one. /!\
extraObjects:
    - apiVersion: v1
      kind: Secret
      metadata:
        name: dashboard-auth-secret
      type: kubernetes.io/basic-auth
      stringData:
        # secret
        username: ENC[AES256_GCM,data:WJ4Q+ok=,iv:XaK/URZNawDuzZusasWUW1x5pNGQKBC6/+zf719NSy0=,tag:WkLYzbD9LZgoVVjjZn9MpQ==,type:str]
        # secret
        password: ENC[AES256_GCM,data:JbPerB4o,iv:j3Wl2Y4JBwpentrsW0Z2JvkFRg2v45ETHTMcvgoFkIA=,tag:hfA3fgk+Z/7fnHK615Q3Xw==,type:str]
    - apiVersion: traefik.io/v1alpha1
      kind: Middleware
      metadata:
        name: dashboard-auth
      spec:
        basicAuth:
            secret: dashboard-auth-secret
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1zha7783jexcxhn6uu6su9elelca49hw4hnwgpcyypmzuc9z3u9asgnk3uq
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBKNHVHcy8wanhaUUpuK0s3
            ZTdWSWJUUVBKdDd5VU02bjlHYU1IN3J3MkM0ClpQaEhsYllBeFB1MllRS2o0L05H
            SUNJNzdIVFVaL3gvdkNVYzM5bzlXQ0EKLS0tIEJ2T3dsQTMvcUdBWm5jcnhxQjBV
            c2JsTEw2MHlzQUNHWXprQit1SWtnMU0KnB0CwP0QGK/fo68zaSvAdYqlo/f2t96O
            W6z6NXv6szyJdZUAFpv5aZAp2vY069BXTVWK9oIH1G2SUTNJMqThfg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-04-01T14:51:15Z"
    mac: ENC[AES256_GCM,data:4eksFtwJotc40z7q71KrNo1/5e2bIqXyxd8mzn4yNDbRtGApJimSsYEaBDex3J0I7fjUuvcso3p5GNnKxIK1r1QrBkIloEQ4qbAbR17VTFgzj752umZ0K17PwmyWQzzpZx2WOh6La7s0q+H4W6M+zGkqYwE05IA65vU16n4u2ZI=,iv:9QC5mqXbvIfQe+moqOMf1hm2v0ui1jYD6Sd0DbqrGIo=,tag:rvlnNY1oOk98UkEpLs2Sgw==,type:str]
    pgp: []
    encrypted_comment_regex: (?i)\b(secret)\b(?-i)
    version: 3.9.4
